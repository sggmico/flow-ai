---
name: post_format
description: 处理博客新增文章的标准化流程：检测新文章、更新 README 索引、生成提交与推送指引。用于新增/发布文章时需要自动补全 README 并提交 Git 变更的场景。
---

# Post Format

本技能用于在新增文章后自动维护 README 索引，并完成 Git 提交流程。

## 工作流

### 1. 确定目标文章

- **用户传入文章路径**：使用该路径。
- **未传入路径**：
  - 使用 `git status` 查找未跟踪的 `*.md` 文章。
  - 扫描年份目录（如 `2026/`, `2025/`）找编号最大的文章。
  - 若未找到新文章或文章已在 README 中，停止并说明原因。

### 2. 更新 README 索引（仅在发现新文章时）

1. 读取 `README.md`。
2. 找到对应年份的章节（如 `## 2026`）。
3. 按以下格式新增条目，按编号倒序排列（编号最大、最新文章排在最上面）：
   ```
   - [编号_文章标题](年份/文件名.md) —— 月份英文缩写 日期
   ```
4. 链接需 URL 编码（空格 → `%20`，其他特殊字符按需编码）。

### 3. Git 提交与推送

- 若 README 有更新：
  1. 查看 `git status` 和 `git diff`。
  2. 暂存新文章与 README。
  3. 提交信息示例：
     - `feat: 新增[文章主题]文章`
     - `chore: 更新README索引`
  4. 提交并推送。
- 若无 README 更新：
  - 检查是否还有其他未提交变更；如有，询问是否需要提交。
  - 否则说明“没有发现新文章，无需更新”。

## 反馈要求

- 说明检测结果与是否更新 README。
- 若跳过步骤，明确原因。
